<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Masjid Prayer Timetable</title>
  <link rel="stylesheet" href="style.css">
  <!-- Load PapaParse for CSV parsing -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
</head>
<body>
  <h1>Prayer Timetable</h1>

  <!-- Optional: Info message -->
  <p>Showing Jamaat times for all the Masjids.</p>

  <!-- Table to display timetable -->
  <table id="salahTable">
    <thead>
      <tr>
        <th>Masjid Name</th>
        <th>Fajr</th>
        <th>Dhuhr</th>
        <th>Asr</th>
        <th>Maghrib</th>
        <th>Isha</th>
		<th>Jum'aa</th>
		<th>Ladies Arrangement</th>
      </tr>
    </thead>
    <tbody>
      <!-- Data from CSV will be loaded here -->
    </tbody>
  </table>

  <footer style="text-align: center; margin-top: 20px;">
    <small>Last updated: Sep 16, 2025</small>
  </footer>

  <script>
    // Load and parse CSV file using PapaParse
    Papa.parse("timetable.csv", {
      download: true,
      header: true,
      skipEmptyLines: true, // Skip empty lines
      complete: function(results) {
        const tableBody = document.querySelector("#salahTable tbody");

        results.data.forEach(row => {
          // Skip if row is empty
          if (!row.Day || Object.values(row).every(val => val.trim() === "")) return;

          const tr = document.createElement("tr");
          tr.innerHTML = 
            <td>${row.Masjid Name}</td>
            <td>${row.Fajr}</td>
            <td>${row.Dhuhr}</td>
            <td>${row.Asr}</td>
            <td>${row.Maghrib}</td>
            <td>${row.Isha}</td>
			<td>${row.Jum'aa}</td>
			<td>${row.Ladies Arrangement}</td>
          ;
          tableBody.appendChild(tr);
        });
      }
    });
  </script>
</body>
</html>